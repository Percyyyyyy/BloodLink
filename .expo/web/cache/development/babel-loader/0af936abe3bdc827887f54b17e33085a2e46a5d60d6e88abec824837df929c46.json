{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\kenzo\\\\OneDrive\\\\Bureau\\\\ESP\\\\BloodLink\\\\frontEnd\\\\composants\\\\Auth.tsx\";\nimport React, { useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport AppState from \"react-native-web/dist/exports/AppState\";\nimport { supabase } from '../lib/supabase';\nimport { Button, Input } from 'react-native-elements';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nAppState.addEventListener('change', function (state) {\n  if (state === 'active') {\n    supabase.auth.startAutoRefresh();\n  } else {\n    supabase.auth.stopAutoRefresh();\n  }\n});\nexport default function Auth() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  function signInWithEmail() {\n    return _signInWithEmail.apply(this, arguments);\n  }\n  function _signInWithEmail() {\n    _signInWithEmail = _asyncToGenerator(function* () {\n      setLoading(true);\n      var _yield$supabase$auth$ = yield supabase.auth.signInWithPassword({\n          email: email,\n          password: password\n        }),\n        error = _yield$supabase$auth$.error;\n      if (error) Alert.alert(error.message);\n      setLoading(false);\n    });\n    return _signInWithEmail.apply(this, arguments);\n  }\n  function signUpWithEmail() {\n    return _signUpWithEmail.apply(this, arguments);\n  }\n  function _signUpWithEmail() {\n    _signUpWithEmail = _asyncToGenerator(function* () {\n      setLoading(true);\n      var _yield$supabase$auth$2 = yield supabase.auth.signUp({\n          email: email,\n          password: password\n        }),\n        session = _yield$supabase$auth$2.data.session,\n        error = _yield$supabase$auth$2.error;\n      if (error) console.log(error);\n      if (!session) Alert.alert('Please check your inbox for email verification!');\n      setLoading(false);\n    });\n    return _signUpWithEmail.apply(this, arguments);\n  }\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(View, {\n      style: [styles.verticallySpaced, styles.mt20],\n      children: _jsxDEV(Input, {\n        label: \"Email\",\n        leftIcon: {\n          type: 'font-awesome',\n          name: 'envelope'\n        },\n        onChangeText: function onChangeText(text) {\n          return setEmail(text);\n        },\n        value: email,\n        placeholder: \"email@address.com\",\n        autoCapitalize: 'none'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), _jsxDEV(View, {\n      style: styles.verticallySpaced,\n      children: _jsxDEV(Input, {\n        label: \"Password\",\n        leftIcon: {\n          type: 'font-awesome',\n          name: 'lock'\n        },\n        onChangeText: function onChangeText(text) {\n          return setPassword(text);\n        },\n        value: password,\n        secureTextEntry: true,\n        placeholder: \"Password\",\n        autoCapitalize: 'none'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), _jsxDEV(View, {\n      style: [styles.verticallySpaced, styles.mt20],\n      children: _jsxDEV(Button, {\n        title: \"Sign in\",\n        disabled: loading,\n        onPress: function onPress() {\n          return signInWithEmail();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), _jsxDEV(View, {\n      style: styles.verticallySpaced,\n      children: _jsxDEV(Button, {\n        title: \"Sign up\",\n        disabled: loading,\n        onPress: function onPress() {\n          return signUpWithEmail();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\nvar styles = StyleSheet.create({\n  container: {\n    marginTop: 40,\n    padding: 12\n  },\n  verticallySpaced: {\n    paddingTop: 4,\n    paddingBottom: 4,\n    alignSelf: 'stretch'\n  },\n  mt20: {\n    marginTop: 20\n  }\n});","map":{"version":3,"names":["React","useState","Alert","StyleSheet","View","AppState","supabase","Button","Input","jsxDEV","_jsxDEV","addEventListener","state","auth","startAutoRefresh","stopAutoRefresh","Auth","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","loading","setLoading","signInWithEmail","_signInWithEmail","apply","arguments","_asyncToGenerator","_yield$supabase$auth$","signInWithPassword","error","alert","message","signUpWithEmail","_signUpWithEmail","_yield$supabase$auth$2","signUp","session","data","console","log","style","styles","container","children","verticallySpaced","mt20","label","leftIcon","type","name","onChangeText","text","value","placeholder","autoCapitalize","fileName","_jsxFileName","lineNumber","columnNumber","secureTextEntry","title","disabled","onPress","create","marginTop","padding","paddingTop","paddingBottom","alignSelf"],"sources":["C:/Users/kenzo/OneDrive/Bureau/ESP/BloodLink/frontEnd/composants/Auth.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { Alert, StyleSheet, View, AppState } from 'react-native'\r\nimport { supabase } from '../lib/supabase'\r\nimport { Button, Input } from 'react-native-elements'\r\n\r\n// Tells Supabase Auth to continuously refresh the session automatically if\r\n// the app is in the foreground. When this is added, you will continue to receive\r\n// `onAuthStateChange` events with the `TOKEN_REFRESHED` or `SIGNED_OUT` event\r\n// if the user's session is terminated. This should only be registered once.\r\nAppState.addEventListener('change', (state) => {\r\n    if (state === 'active') {\r\n        supabase.auth.startAutoRefresh()\r\n    } else {\r\n        supabase.auth.stopAutoRefresh()\r\n    }\r\n})\r\n\r\nexport default function Auth() {\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    async function signInWithEmail() {\r\n        setLoading(true)\r\n        const { error } = await supabase.auth.signInWithPassword({\r\n            email: email,\r\n            password: password,\r\n        })\r\n\r\n        if (error) Alert.alert(error.message)\r\n        setLoading(false)\r\n    }\r\n\r\n    async function signUpWithEmail() {\r\n        setLoading(true)\r\n        const {\r\n            data: { session },\r\n            error,\r\n        } = await supabase.auth.signUp({\r\n            email: email,\r\n            password: password,\r\n        })\r\n\r\n        if (error) console.log(error);\r\n        \r\n        if (!session) Alert.alert('Please check your inbox for email verification!')\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <View style={[styles.verticallySpaced, styles.mt20]}>\r\n                <Input\r\n                    label=\"Email\"\r\n                    leftIcon={{ type: 'font-awesome', name: 'envelope' }}\r\n                    onChangeText={(text) => setEmail(text)}\r\n                    value={email}\r\n                    placeholder=\"email@address.com\"\r\n                    autoCapitalize={'none'}\r\n                />\r\n            </View>\r\n            <View style={styles.verticallySpaced}>\r\n                <Input\r\n                    label=\"Password\"\r\n                    leftIcon={{ type: 'font-awesome', name: 'lock' }}\r\n                    onChangeText={(text) => setPassword(text)}\r\n                    value={password}\r\n                    secureTextEntry={true}\r\n                    placeholder=\"Password\"\r\n                    autoCapitalize={'none'}\r\n                />\r\n            </View>\r\n            <View style={[styles.verticallySpaced, styles.mt20]}>\r\n                <Button title=\"Sign in\" disabled={loading} onPress={() => signInWithEmail()} />\r\n            </View>\r\n            <View style={styles.verticallySpaced}>\r\n                <Button title=\"Sign up\" disabled={loading} onPress={() => signUpWithEmail()} />\r\n            </View>\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        marginTop: 40,\r\n        padding: 12,\r\n    },\r\n    verticallySpaced: {\r\n        paddingTop: 4,\r\n        paddingBottom: 4,\r\n        alignSelf: 'stretch',\r\n    },\r\n    mt20: {\r\n        marginTop: 20,\r\n    },\r\n})"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAA,OAAAC,KAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,QAAA;AAEvC,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,SAASC,MAAM,EAAEC,KAAK,QAAQ,uBAAuB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAMrDL,QAAQ,CAACM,gBAAgB,CAAC,QAAQ,EAAE,UAACC,KAAK,EAAK;EAC3C,IAAIA,KAAK,KAAK,QAAQ,EAAE;IACpBN,QAAQ,CAACO,IAAI,CAACC,gBAAgB,CAAC,CAAC;EACpC,CAAC,MAAM;IACHR,QAAQ,CAACO,IAAI,CAACE,eAAe,CAAC,CAAC;EACnC;AACJ,CAAC,CAAC;AAEF,eAAe,SAASC,IAAIA,CAAA,EAAG;EAC3B,IAAAC,SAAA,GAA0BhB,QAAQ,CAAC,EAAE,CAAC;IAAAiB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EACtB,IAAAI,UAAA,GAAgCrB,QAAQ,CAAC,EAAE,CAAC;IAAAsB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAArCE,QAAQ,GAAAD,UAAA;IAAEE,WAAW,GAAAF,UAAA;EAC5B,IAAAG,UAAA,GAA8BzB,QAAQ,CAAC,KAAK,CAAC;IAAA0B,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAAtCE,OAAO,GAAAD,UAAA;IAAEE,UAAU,GAAAF,UAAA;EAAmB,SAE9BG,eAAeA,CAAA;IAAA,OAAAC,gBAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAF,iBAAA;IAAAA,gBAAA,GAAAG,iBAAA,CAA9B,aAAiC;MAC7BL,UAAU,CAAC,IAAI,CAAC;MAChB,IAAAM,qBAAA,SAAwB7B,QAAQ,CAACO,IAAI,CAACuB,kBAAkB,CAAC;UACrDhB,KAAK,EAAEA,KAAK;UACZI,QAAQ,EAAEA;QACd,CAAC,CAAC;QAHMa,KAAK,GAAAF,qBAAA,CAALE,KAAK;MAKb,IAAIA,KAAK,EAAEnC,KAAK,CAACoC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;MACrCV,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC;IAAA,OAAAE,gBAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAEcO,eAAeA,CAAA;IAAA,OAAAC,gBAAA,CAAAT,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAQ,iBAAA;IAAAA,gBAAA,GAAAP,iBAAA,CAA9B,aAAiC;MAC7BL,UAAU,CAAC,IAAI,CAAC;MAChB,IAAAa,sBAAA,SAGUpC,QAAQ,CAACO,IAAI,CAAC8B,MAAM,CAAC;UAC3BvB,KAAK,EAAEA,KAAK;UACZI,QAAQ,EAAEA;QACd,CAAC,CAAC;QALUoB,OAAO,GAAAF,sBAAA,CAAfG,IAAI,CAAID,OAAO;QACfP,KAAK,GAAAK,sBAAA,CAALL,KAAK;MAMT,IAAIA,KAAK,EAAES,OAAO,CAACC,GAAG,CAACV,KAAK,CAAC;MAE7B,IAAI,CAACO,OAAO,EAAE1C,KAAK,CAACoC,KAAK,CAAC,iDAAiD,CAAC;MAC5ET,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC;IAAA,OAAAY,gBAAA,CAAAT,KAAA,OAAAC,SAAA;EAAA;EAED,OACIvB,OAAA,CAACN,IAAI;IAAC4C,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC1BzC,OAAA,CAACN,IAAI;MAAC4C,KAAK,EAAE,CAACC,MAAM,CAACG,gBAAgB,EAAEH,MAAM,CAACI,IAAI,CAAE;MAAAF,QAAA,EAChDzC,OAAA,CAACF,KAAK;QACF8C,KAAK,EAAC,OAAO;QACbC,QAAQ,EAAE;UAAEC,IAAI,EAAE,cAAc;UAAEC,IAAI,EAAE;QAAW,CAAE;QACrDC,YAAY,EAAE,SAAAA,aAACC,IAAI;UAAA,OAAKtC,QAAQ,CAACsC,IAAI,CAAC;QAAA,CAAC;QACvCC,KAAK,EAAExC,KAAM;QACbyC,WAAW,EAAC,mBAAmB;QAC/BC,cAAc,EAAE;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,EACPxD,OAAA,CAACN,IAAI;MAAC4C,KAAK,EAAEC,MAAM,CAACG,gBAAiB;MAAAD,QAAA,EACjCzC,OAAA,CAACF,KAAK;QACF8C,KAAK,EAAC,UAAU;QAChBC,QAAQ,EAAE;UAAEC,IAAI,EAAE,cAAc;UAAEC,IAAI,EAAE;QAAO,CAAE;QACjDC,YAAY,EAAE,SAAAA,aAACC,IAAI;UAAA,OAAKlC,WAAW,CAACkC,IAAI,CAAC;QAAA,CAAC;QAC1CC,KAAK,EAAEpC,QAAS;QAChB2C,eAAe,EAAE,IAAK;QACtBN,WAAW,EAAC,UAAU;QACtBC,cAAc,EAAE;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,EACPxD,OAAA,CAACN,IAAI;MAAC4C,KAAK,EAAE,CAACC,MAAM,CAACG,gBAAgB,EAAEH,MAAM,CAACI,IAAI,CAAE;MAAAF,QAAA,EAChDzC,OAAA,CAACH,MAAM;QAAC6D,KAAK,EAAC,SAAS;QAACC,QAAQ,EAAEzC,OAAQ;QAAC0C,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAMxC,eAAe,CAAC,CAAC;QAAA;MAAC;QAAAiC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7E,CAAC,EACPxD,OAAA,CAACN,IAAI;MAAC4C,KAAK,EAAEC,MAAM,CAACG,gBAAiB;MAAAD,QAAA,EACjCzC,OAAA,CAACH,MAAM;QAAC6D,KAAK,EAAC,SAAS;QAACC,QAAQ,EAAEzC,OAAQ;QAAC0C,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAM9B,eAAe,CAAC,CAAC;QAAA;MAAC;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7E,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEf;AAEA,IAAMjB,MAAM,GAAG9C,UAAU,CAACoE,MAAM,CAAC;EAC7BrB,SAAS,EAAE;IACPsB,SAAS,EAAE,EAAE;IACbC,OAAO,EAAE;EACb,CAAC;EACDrB,gBAAgB,EAAE;IACdsB,UAAU,EAAE,CAAC;IACbC,aAAa,EAAE,CAAC;IAChBC,SAAS,EAAE;EACf,CAAC;EACDvB,IAAI,EAAE;IACFmB,SAAS,EAAE;EACf;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}